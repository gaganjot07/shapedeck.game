!function(t,e,s){"use strict";var r={calc:!1};e.fn.rrssb=function(t){var r=e.extend({description:s,emailAddress:s,emailBody:s,emailSubject:s,image:s,title:s,url:s},t);for(var a in r)r.hasOwnProperty(a)&&r[a]!==s&&(r[a]=i(r[a]));r.url!==s&&(e(this).find(".rrssb-facebook a").attr("href","https://www.facebook.com/sharer/sharer.php?u="+r.url),e(this).find(".rrssb-tumblr a").attr("href","http://tumblr.com/share/link?url="+r.url+(r.title!==s?"&name="+r.title:"")+(r.description!==s?"&description="+r.description:"")),e(this).find(".rrssb-linkedin a").attr("href","http://www.linkedin.com/shareArticle?mini=true&url="+r.url+(r.title!==s?"&title="+r.title:"")+(r.description!==s?"&summary="+r.description:"")),e(this).find(".rrssb-twitter a").attr("href","http://twitter.com/home?status="+(r.description!==s?r.description:"")+"%20"+r.url),e(this).find(".rrssb-hackernews a").attr("href","https://news.ycombinator.com/submitlink?u="+r.url+(r.title!==s?"&text="+r.title:"")),e(this).find(".rrssb-reddit a").attr("href","http://www.reddit.com/submit?url="+r.url+(r.description!==s?"&text="+r.description:"")+(r.title!==s?"&title="+r.title:"")),e(this).find(".rrssb-googleplus a").attr("href","https://plus.google.com/share?url="+(r.description!==s?r.description:"")+"%20"+r.url),e(this).find(".rrssb-pinterest a").attr("href","http://pinterest.com/pin/create/button/?url="+r.url+(r.image!==s?"&amp;media="+r.image:"")+(r.description!==s?"&amp;description="+r.description:"")),e(this).find(".rrssb-pocket a").attr("href","https://getpocket.com/save?url="+r.url),e(this).find(".rrssb-github a").attr("href",r.url)),r.emailAddress!==s&&e(this).find(".rrssb-email a").attr("href","mailto:"+r.emailAddress+"?"+(r.emailSubject!==s?"subject="+r.emailSubject:"")+(r.emailBody!==s?"&amp;body="+r.emailBody:""))};var i=function(t){if(t!==s&&null!==t){if(null===t.match(/%[0-9a-f]{2}/i))return encodeURIComponent(t);t=decodeURIComponent(t),i(t)}},a=function(){e(".rrssb-buttons").each((function(t){var s=e(this),r=e("li:visible",s),i=100/r.length;r.css("width",i+"%").attr("data-initwidth",i)}))},n=function(t){e(".rrssb-buttons").each((function(t){var s=e(this),r=e("li",s);e(r.get().reverse()).each((function(t,s){var i=e(this);if(!1===i.hasClass("small")&&parseFloat(i.attr("data-size"))+55>parseFloat(i.width())){var a=r.not(".small").last();e(a).addClass("small"),l()}--s||e(".rrssb-buttons").each((function(t){var s=e(this),r=e("li",s),i=r.filter(".small"),a=0,n=0,o=i.first(),c=parseFloat(o.attr("data-size"))+55,h=i.length;if(h===r.length){var d=42*h;s.width()>d+c&&(s.removeClass("small-format"),i.first().removeClass("small"),l())}else r.not(".small").each((function(t){var s=e(this),r=parseFloat(s.attr("data-size"))+55,i=parseFloat(s.width());a+=i,n+=r})),a-n>c&&(o.removeClass("small"),l())}))}))})),!0===t&&c(l)},l=function(){e(".rrssb-buttons").each((function(t){var s,i,n,l,o,c=e(this),h=e("li",c),d=h.filter(".small"),m=d.length;m>0&&m!==h.length?(c.removeClass("small-format"),d.css("width","42px"),n=42*m,i=100/(s=h.not(".small").length),o=n/s,!1===r.calc?(l=(c.innerWidth()-1)/s-o,l=Math.floor(1e3*l)/1e3,l+="px"):l=r.calc+"("+i+"% - "+o+"px)",h.not(".small").css("width",l)):m===h.length?(c.addClass("small-format"),a()):(c.removeClass("small-format"),a())})),e(".rrssb-buttons").each((function(t){var s=e(this),r=s.width();e("li",s).not(".small").first().width()>170&&e("li.small",s).length<1?s.addClass("large-format"):s.removeClass("large-format"),200>r?s.removeClass("small-format").addClass("tiny-format"):s.removeClass("tiny-format")}))},o=function(){e(".rrssb-buttons").each((function(t){e(this).addClass("rrssb-"+(t+1))})),function(){var t=e("<div>"),s=["calc","-webkit-calc","-moz-calc"];e("body").append(t);for(var i=0;i<s.length;i++)if(t.css("width",s[i]+"(1px)"),1===t.width()){r.calc=s[i];break}t.remove()}(),a(),e(".rrssb-buttons li .rrssb-text").each((function(t){var s=e(this),r=s.width();s.closest("li").attr("data-size",r)})),n(!0)},c=function(t){e(".rrssb-buttons li.small").removeClass("small"),n(),t()},h=function(e,r,i,a){var n=t.screenLeft!==s?t.screenLeft:screen.left,l=t.screenTop!==s?t.screenTop:screen.top,o=(t.innerWidth?t.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-i/2+n,c=(t.innerHeight?t.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/3-a/3+l,h=t.open(e,r,"scrollbars=yes, width="+i+", height="+a+", top="+c+", left="+o);t.focus&&h.focus()},d=function(){var t={};return function(e,s,r){r||(r="Don't call this twice without a uniqueId"),t[r]&&clearTimeout(t[r]),t[r]=setTimeout(e,s)}}();e(document).ready((function(){e(".rrssb-buttons a.popup").on("click",(function(t){var s=e(this);h(s.attr("href"),s.find(".rrssb-text").html(),580,470),t.preventDefault()})),e(t).resize((function(){c(l),d((function(){c(l)}),200,"finished resizing")})),o()})),t.rrssbInit=o}(window,$);